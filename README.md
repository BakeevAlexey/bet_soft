# Bet-soft

## Используемые инструменты
* python 3.11
* redis
* FastApi

## Алгоритм запуска
1. Запустить docker-compose  
   ```docker-compose up --build```
2. Загрузить тестовые данные через api -- ```add_full_data_redis```  
     > p.s. При каждом запуске обновляется все база данных  
3. После загрузки данных можно создать несколько ставок через ```register_bet```
4. Посмотреть их историю через ```histiry_bet```

## Описание основных методов  

bet-maker:
   * ```events``` -- Получить все event, на которые можно сделать ставки.  
   * ```bet``` -- сделать ставку (смотри "Что не получилось").  
   * ```bets``` -- Получить все эвенты, на которые были сделаны ставки.

line-provider:
   *  ```create_event``` -- Создать дополнительный event.
   * ```receive_all_key``` -- Получить список всех доступных event.
   * ```register_bet``` -- Через него регистрируются ставки.
   * ```histiry_bet``` -- Посмотреть список всех евентов, на которые сделаны ставки.


## Чтобы улучшил:
* Вынес бы все подключения к redis в отдельный декоратор.
* Нормальная документация.
* Тестирование.
* Улучшил бы структуру данных, для хранения event и bet.
* В методе history_bet продумал бы лучше структуру, а не получения каждый по каждой ставки эвента, настроил бы пачкой.
* Добавить try/except


## Что не получилось:
* Метод bet, не смог отправить на line-provider, перегуглил, но времени разобраться нехватило.  
  По этому создавать ставки нужно через register_bet
* Только в конце увидел про время и положительное число в amont, по срокам не хватило.